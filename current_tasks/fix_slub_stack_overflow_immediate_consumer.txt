Task: Fix mm/slub.c kernel stack overflow via multi-def value deduplication
Status: completed
Started: 2026-01-27
Completed: 2026-01-27

Problem: mm/slub.c causes x86 kernel boot failure (stack overflow) because
multi-def values (phi results from SSA phi elimination) were allocated separate
stack slots for each definition, wasting up to 3x frame space per phi merge.

Root cause: In calculate_stack_space_common, the loop over all blocks collects
values for slot allocation. Multi-def values (phi results) are defined in
multiple blocks, so without deduplication, each definition was pushed to
multi_block_values separately. The Tier 2 packer then allocated separate slots
for each duplicate entry, massively inflating frame sizes.

Fix: Added a collected_values HashSet to deduplicate values before pushing
them to multi_block_values or block_local_values. Each value ID is collected
only once, preventing duplicate slot allocation.

Result:
- Kernel mm/slub.c boot test: PASS (was FAIL)
- Regression suite: 99.3% x86, 99.1% ARM, 99.7% RISC-V (matches/exceeds baseline)
- Projects: 33/36 passed (matches baseline; only musl fails, pre-existing)
